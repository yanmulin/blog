<!DOCTYPE html>
<html lang="en">

<head>

  <!-- Minima -->
  <!-- Hexo theme created by @adisaktijrs -->

  <!-- Basic Page Needs
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <meta charset="utf-8">

  
  <title>VMWareè™šæ‹Ÿæœºçš„å®¹é”™è®¾è®¡</title>
  
  <link rel="canonical" href="https://yanmulin.me/2021/01/31/mit6_824/vm-ft/">
  
  <meta name="description" content="è¿™ç¯‡è®ºæ–‡æè¿°äº†ä¸€ä¸ªæœºå™¨çº§çš„å®¹é”™æ¶æ„ï¼Œä»¥å¾ˆå°çš„ç½‘ç»œå¸¦å®½æ¶ˆè€—å®ç°äº†ä¸€ä¸ªå¯å®¹é”™çš„å•†ç”¨è™šæ‹Ÿæœºã€‚ è¿™ä¸ªæ¶æ„çš„è®¾è®¡æ€è·¯æ˜¯æŠŠæœºå™¨æŠ½è±¡ä¸ºä¸€å°çŠ¶æ€æœºï¼Œå¦‚æœprimaryå’Œbackupæ¥å—å®Œå…¨ç›¸åŒçš„è¾“å…¥å’Œäº‹ä»¶ï¼Œé‚£ä¹ˆä¸¤è€…æœ€ç»ˆä¼šæŠµè¾¾ç›¸åŒçš„çŠ¶æ€ã€‚æ‰€ä»¥åªè¦å°†primaryçš„æ‰€æœ‰è¾“å…¥å’Œéç¡®å®šæ€§äº‹ä»¶(non-determinist">
  
  
  <meta name="author" content="yanmulin">
  <meta property="og:site_name" content="é¢œæœ¨æ—çš„æµæ°´è´¦" />
  <meta property="og:type" content="article" />
  <meta property="og:title" content="VMWareè™šæ‹Ÿæœºçš„å®¹é”™è®¾è®¡" />
  
  <meta property="og:description" content="è¿™ç¯‡è®ºæ–‡æè¿°äº†ä¸€ä¸ªæœºå™¨çº§çš„å®¹é”™æ¶æ„ï¼Œä»¥å¾ˆå°çš„ç½‘ç»œå¸¦å®½æ¶ˆè€—å®ç°äº†ä¸€ä¸ªå¯å®¹é”™çš„å•†ç”¨è™šæ‹Ÿæœºã€‚ è¿™ä¸ªæ¶æ„çš„è®¾è®¡æ€è·¯æ˜¯æŠŠæœºå™¨æŠ½è±¡ä¸ºä¸€å°çŠ¶æ€æœºï¼Œå¦‚æœprimaryå’Œbackupæ¥å—å®Œå…¨ç›¸åŒçš„è¾“å…¥å’Œäº‹ä»¶ï¼Œé‚£ä¹ˆä¸¤è€…æœ€ç»ˆä¼šæŠµè¾¾ç›¸åŒçš„çŠ¶æ€ã€‚æ‰€ä»¥åªè¦å°†primaryçš„æ‰€æœ‰è¾“å…¥å’Œéç¡®å®šæ€§äº‹ä»¶(non-determinist">
  
  <meta property="og:url" content="https://yanmulin.me/2021/01/31/mit6_824/vm-ft/" />

  <!-- Mobile Specific Metas
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Preload fonts
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link rel="preload" href="../fonts/dm-serif-display-v4-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="../fonts/inter-v2-latin-regular.woff2" as="font" type="font/woff2" crossorigin>

  <!-- CSS
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  
<link rel="stylesheet" href="/css/normalize.css">

  
<link rel="stylesheet" href="/css/skeleton.css">

  
<link rel="stylesheet" href="/css/custom.css">

  
<link rel="stylesheet" href="/css/prism-dark.css">

  
<link rel="stylesheet" href="/css/prism-line-numbers.css">

  <!-- User css -->
  

  <!-- Favicon
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link rel="icon" type="image/png" href="/images/favicon.png">

  <!-- Custom Theme Color Style
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <style>
  a:not(.icon) {
    text-decoration-color: #0FA0CE;
    background-image: linear-gradient(
      to bottom,
      rgba(0, 0, 0, 0) 50%,
      #0FA0CE 50%
    );
  }
  .category-link {]
    text-decoration-color: transparent;
    border-color: #0FA0CE;
  }
  blockquote {
    border-left: 8px solid #0FA0CE;
  }
  .nanobar .bar {
    background: #0FA0CE;
  }
  .post-body h3::before {
    color: #0FA0CE;
  } 
  .post-body h4::before {
    color: #0FA0CE;
  } 
  .post-body h5::before {
    color: #0FA0CE;
  } 
  .post-body h6::before {
    color: #0FA0CE;
  }
  .button.button-primary:hover,
  button.button-primary:hover,
  input[type="submit"].button-primary:hover,
  input[type="reset"].button-primary:hover,
  input[type="button"].button-primary:hover,
  .button.button-primary:focus,
  button.button-primary:focus,
  input[type="submit"].button-primary:focus,
  input[type="reset"].button-primary:focus,
  input[type="button"].button-primary:focus {
    background-color: #0FA0CE;
    border-color: #0FA0CE;
  }
  input[type="email"]:focus,
  input[type="number"]:focus,
  input[type="search"]:focus,
  input[type="text"]:focus,
  input[type="tel"]:focus,
  input[type="url"]:focus,
  input[type="password"]:focus,
  textarea:focus,
  select:focus {
    border: 1px solid #0FA0CE;
  }
</style>

  <!-- Google Analytics (With Privacy Settings On)
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  

<meta name="generator" content="Hexo 5.2.0"></head>

<body class="darkmode">
  <div class="container">
    <div class="row">
      <div>
        <div class="row">
  

  <div class="twelve columns">
    <div class="row" style="margin-bottom: 2.6rem">
        
          
            
              <a href="/archives" class="mr u-pull-right">Notes</a>
            
          
            
              <a href="/About" class="mr u-pull-right">About</a>
            
          
          <a href="/" class="u-pull-right mr">Home</a>
        
      </div>
  </div>

  
    <h2>VMWareè™šæ‹Ÿæœºçš„å®¹é”™è®¾è®¡</h2>
    <p class="post-info">Jan 31, 2021 <a class="category-link" href="/categories/MIT-8-624-Papers/">MIT 8.624 Papers</a></p>
  
</div>

        <div class="trans">
          <div class="post-body">
  
  <p>è¿™ç¯‡è®ºæ–‡æè¿°äº†ä¸€ä¸ªæœºå™¨çº§çš„å®¹é”™æ¶æ„ï¼Œä»¥å¾ˆå°çš„ç½‘ç»œå¸¦å®½æ¶ˆè€—å®ç°äº†ä¸€ä¸ªå¯å®¹é”™çš„å•†ç”¨è™šæ‹Ÿæœºã€‚</p>
<p>è¿™ä¸ªæ¶æ„çš„è®¾è®¡æ€è·¯æ˜¯æŠŠæœºå™¨æŠ½è±¡ä¸ºä¸€å°çŠ¶æ€æœºï¼Œå¦‚æœprimaryå’Œbackupæ¥å—å®Œå…¨ç›¸åŒçš„è¾“å…¥å’Œäº‹ä»¶ï¼Œé‚£ä¹ˆä¸¤è€…æœ€ç»ˆä¼šæŠµè¾¾ç›¸åŒçš„çŠ¶æ€ã€‚æ‰€ä»¥åªè¦å°†primaryçš„æ‰€æœ‰è¾“å…¥å’Œéç¡®å®šæ€§äº‹ä»¶(non-deterministic operations/events)åŸå°ä¸åŠ¨çš„é€šè¿‡logging channelå‘é€ç»™backupï¼Œé‚£ä¹ˆåœ¨primaryå®•æœºæ—¶ï¼Œbackupä¹Ÿèƒ½æ¢å¤åˆ°ä¸primaryç›¸åŒçš„çŠ¶æ€ã€‚backupé€šè¿‡log entriesæ¢å¤çŠ¶æ€çš„è¿‡ç¨‹å«åšéç¡®å®šæ€§é‡æ”¾(non-deterministic replay)ã€‚</p>
<h3 id="éç¡®å®šæ€§é‡æ”¾"><a href="#éç¡®å®šæ€§é‡æ”¾" class="headerlink" title="éç¡®å®šæ€§é‡æ”¾"></a>éç¡®å®šæ€§é‡æ”¾</h3><p>éç¡®å®šæ€§é‡æ”¾è¦æ±‚primaryæŠŠæ‰€æœ‰è¾“å…¥å’Œéç¡®å®šæ€§äº‹ä»¶å‘é€ç»™backupã€‚è¾“å…¥åŒ…æ‹¬ä½†ä¸é™äºæ”¶åˆ°çš„ç½‘ç»œåŒ…ï¼Œç£ç›˜è¯»å–ï¼Œé”®é¼ ç­‰è®¾å¤‡è¾“å…¥ç­‰ï¼›éç¡®å®šæ€§äº‹ä»¶åŒ…æ‹¬è™šæ‹Ÿçš„ä¸­æ–­ï¼Œäº§ç”Ÿéšæœºæ•°ï¼Œå’Œè¯»å–CPUæ—¶é’Ÿç­‰ã€‚å¤šäºè™šæ‹Ÿæœºï¼Œè¾“å…¥å’Œéç¡®å®šæ€§äº‹ä»¶æ‰å¯ä»¥è¢«æ•è·ä¸è®°å½•ã€‚é‡æ”¾çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>æ•è·åˆ°è¾“å…¥æˆ–éç¡®å®šæ€§äº‹ä»¶æ—¶ï¼Œprimaryé€šè¿‡logging channelå‘é€ç»™backupï¼›</li>
<li>backupæ”¶åˆ°å¹¶å°†æ¶ˆæ¯å…¥é˜Ÿ(å¹¶æŒä¹…åŒ–ï¼‰åï¼Œæ‰ç»™primaryå‘é€ackå›å¤ï¼›</li>
<li>primaryæ”¶åˆ°æ¥è‡ªbackupçš„ackå›å¤åï¼Œæ‰å›å¤clientï¼›</li>
<li>backupä¸å®šæ—¶åœ°æ¶ˆè€—é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯ã€‚</li>
</ol>
<p>æ¶ˆæ¯å†…å®¹éœ€è¦åŒ…æ‹¬äº‹ä»¶å‘ç”Ÿæ—¶primaryçš„æŒ‡ä»¤åºå·ï¼Œå› ä¸ºbackupä¹Ÿéœ€è¦åœ¨ç›¸åŒçš„æŒ‡ä»¤ä½ç½®è§¦å‘äº‹ä»¶ã€‚é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œbackupä¼šåœæ­¢æ‰§è¡Œç­‰å¾…primaryå‘æ¥æ–°çš„æ¶ˆæ¯ï¼›é˜Ÿåˆ—æ»¡æ—¶ï¼Œprimaryåœæ­¢æ‰§è¡Œç­‰å¾…backupæ¶ˆè€—æ¶ˆæ¯ã€‚</p>
<p>Primaryåœ¨æ”¶åˆ°backupçš„ackæ‰å›å¤clientæ˜¯ä¸ºäº†æ»¡è¶³è¾“å‡ºæ³•åˆ™(Output Rule)ã€‚å¦‚æœprimaryåœ¨æ”¶åˆ°ackå‰å›å¤clientï¼Œä¸”primaryåœ¨å›å¤clientåå®•æœºï¼Œé‚£ä¹ˆä¸èƒ½ç¡®ä¿backupæ”¶åˆ°è¿™æ¡æ¶ˆæ¯ï¼Œä¹Ÿå°±ä¸èƒ½æ¢å¤åˆ°primaryå®•æœºå‰çš„çŠ¶æ€ã€‚åœ¨ç›®å‰è®¾è®¡ä¸‹ï¼Œå¦‚æœprimaryåœ¨æ”¶åˆ°backupçš„ackåå›å¤clientï¼Œæ¥ç€å‘ç”Ÿå®•æœºï¼Œé‚£ä¹ˆbackupæå‡ä¸ºprimaryåä¸èƒ½ç¡®å®šä»¥å‰çš„primaryæœ‰æ— ç»™clientå‘é€å›å¤ã€‚ä¸ºäº†ä¿é™©èµ·è§ï¼Œbackupéƒ½ä¼šç»™clienté‡æ–°å‘é€ä¸€æ¬¡å›å¤ã€‚æ‰€ä»¥ç³»ç»Ÿåªèƒ½ä¿è¯è¯·æ±‚è¢«å¤„ç†â€œè‡³å°‘ä¸€æ¬¡â€ï¼Œè€Œä¸”éœ€è¦å¼•å…¥å»é‡(deduplication)çš„æœºåˆ¶ã€‚</p>
<h3 id="é”™è¯¯æ£€æµ‹ä¸æ¢å¤"><a href="#é”™è¯¯æ£€æµ‹ä¸æ¢å¤" class="headerlink" title="é”™è¯¯æ£€æµ‹ä¸æ¢å¤"></a>é”™è¯¯æ£€æµ‹ä¸æ¢å¤</h3><p>è®ºæ–‡é‡‡ç”¨äº†ç®€å•çš„Fail-stopçš„é”™è¯¯æ¨¡å‹ã€‚å¦‚æœæ²¡æœ‰åœ¨é™å®šæ—¶é—´å†…æ”¶åˆ°å›å¤ï¼Œå°½ç®¡çœŸæ­£çš„åŸå› å¯èƒ½æ˜¯ç½‘ç»œå»¶æ—¶ï¼Œä¹Ÿå‡è®¾ç›®æ ‡å®•æœºã€‚</p>
<p>VMWareçš„é”™è¯¯æ£€æµ‹ç»“åˆäº†UDPå¿ƒè·³ä¸logging channelç›‘å¬çš„ä¸¤ç§æ–¹å¼ã€‚å› ä¸ºè™šæ‹Ÿæœºå®šæœŸä¼šäº§ç”Ÿæ—¶é’Ÿä¸­æ–­ï¼Œè¿è¡Œæ­£å¸¸çš„è™šæ‹Ÿæœºä¼šå‘¨æœŸæ€§çš„é€šè¿‡logging channelå‘é€æ¶ˆæ¯ã€‚å¦‚æœprimaryå®•æœºï¼Œbackupé€šè¿‡é‡æ”¾é˜Ÿåˆ—ä¸­çš„æ—¥å¿—ï¼Œæ¢å¤åˆ°primaryå®•æœºå‰çš„çŠ¶æ€ã€‚</p>
<p>å¦‚æœå‘ç”Ÿè£‚è„‘é”™è¯¯(split-brain)ï¼ŒVMWareåœ¨CAPä¸­ä¼˜å…ˆä¿è¯ä¸€è‡´æ€§ï¼Œåœ¨è¿™ä¸ªæƒ…å†µä¸‹primaryå’Œbackupåªæœ‰ä¸€ä¸ªèƒ½å¤Ÿå­˜æ´»ã€‚ä¸ºäº†ç¡®å®šå“ªä¸€ä¸ªèƒ½å¤Ÿå­˜æ´»ï¼Œéœ€è¦å¼•å…¥ä¸€ä¸ªåŸå­çš„test-and-setæœåŠ¡å™¨ã€‚å¦‚æœæ£€æµ‹åˆ°è£‚è„‘ï¼Œprimaryå’Œbackupä¼šå‘test-and-setæœåŠ¡å™¨è¯·æ±‚æ“ä½œï¼Œå¾—åˆ°å›å¤ä¸º0çš„ä¸€æ–¹å¯ä»¥å­˜æ´»å¹¶æå‡ä¸ºprimaryï¼Œå¦å¤–ä¸€æ–¹åˆ™è‡ªåŠ¨åœæœºã€‚</p>
<h3 id="å±€é™"><a href="#å±€é™" class="headerlink" title="å±€é™"></a>å±€é™</h3><p>è¯¥è®ºæ–‡å‡è®¾primaryå’Œbackupå…±äº«åŒä¸€ä¸ªç£ç›˜ï¼Œè¿™ä¸ªå‡è®¾æ¶ˆé™¤äº†æŒä¹…åŒ–å±‚é¢ä¸€è‡´æ€§çš„å½±å“ã€‚å¦å¤–ï¼Œæˆªæ­¢äºè®ºæ–‡å‘è¡¨çš„æ—¶é—´ï¼Œè¿™ä¸ªæ¶æ„çš„è™šæ‹Ÿæœºåªæ”¯æŒæ¨¡æ‹Ÿx86å•æ ¸å¤„ç†å™¨ã€‚å› ä¸ºå¤šæ ¸çš„å¹¶è¡Œæ‰§è¡Œå¼•å…¥äº†æ›´å¤æ‚çš„éç¡®å®šæ€§ã€‚</p>

  
  

</div>

          
<footer>
  <span className='cc-licence'>CC BY-NC-SA 4.0</span> Â© 2020 ğŸ£
</footer>


        </div>
      </div>

    </div>

  </div>
  <script src="/js/nanobar.min.js"></script>
  <script>
    var options = {
      classname: 'nanobar',
      id: 'myNanobar'
    };
    var nanobar = new Nanobar(options);
    nanobar.go(30);
    nanobar.go(76);
    nanobar.go(100);
  </script>

</body>

</html>
